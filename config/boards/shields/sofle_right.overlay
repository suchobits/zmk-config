// Azoteq TPS43 trackpad configuration for right side
// Uses the same I2C bus as the OLED (pro_micro_i2c = i2c0)
// SDA: P0.17 (D2), SCL: P0.20 (D3)

/ {
    // Input split device for trackpad in split keyboard setup
    trackpad_split: trackpad_split {
        compatible = "zmk,input-split";
        device = <&trackpad>;
    };
};

&pro_micro_i2c {
    // I2C bus is already configured for OLED in sofle.dtsi
    // Adding TPS43 trackpad to the same bus

    trackpad: iqs5xx@74 {
        compatible = "azoteq,iqs5xx";
        reg = <0x74>; // TPS43 I2C address (standard is 0x74)
        status = "okay";

        // MINIMAL CONFIGURATION FOR TESTING
        // Module doesn't have RDY/RESET pins - using dummy GPIO
        rdy-gpios = <&pro_micro 4 GPIO_ACTIVE_HIGH>;    // D4/A6 (dummy pin)

        // Start with just basic movement - no gestures
        // Uncomment features one at a time after basic movement works:
        // one-finger-tap;      // Enable tap-to-click (left click)
        // two-finger-tap;      // Enable two-finger tap (right click)
        // press-and-hold;      // Enable press and hold for dragging
        // scroll;              // Enable scrolling
    };
};
